<article id="sysFileDetailRegisterPage" class="gi-article-content gi-col-95 gi-row-100">
    <section class="gi-col-100 gi-row-100 gi-overflow-scroll">
        <div class="gi-container-narrow">

            <!-- ÌéòÏù¥ÏßÄ Ìó§Îçî -->
            <header class="gi-margin-bottom-40px">
                <h1 class="gi-font-size-36px gi-title-main">
                    [Page.Message].Message.Label.Array["SYS_FILE_DTL.TITLE_REGISTER"]</h1>
                <p class="gi-subtitle-main">[Page.Message].Message.Label.Array["SYS_FILE_DTL.SUB_TITLE_REGISTER"]</p>
            </header>

            <form id="sysFileDetailRegisterFrom">

                <!-- [Í∏∞Î≥∏ Ï†ïÎ≥¥ Ïπ¥Îìú] -->
                <div class="gi-article-content gi-margin-bottom-30px">
                    <h2 class="gi-title-section">Í∏∞Î≥∏ Ï†ïÎ≥¥</h2>
                    <div class="gi-flex gi-flex-column gi-grid-gap-20px">

                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="file_id" class="gi-input-label" data-focus-label="true"
                                    data-required="true">[Page.Message].Message.Label.Array["SYS_FILE_DTL.FILE_ID"]</label>
                                <input data-field="file_id" id="file_id" name="file_id" class="gi-input"
                                    data-focus-span-text-align="center" data-required="true" autocomplete="off" />
                            </div>
                        </div>

                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="uuid" class="gi-input-label" data-focus-label="true"
                                    data-required="true">[Page.Message].Message.Label.Array["SYS_FILE_DTL.UUID"]</label>
                                <input data-field="uuid" id="uuid" name="uuid" class="gi-input"
                                    data-focus-span-text-align="center" data-required="true" autocomplete="off" />
                            </div>
                        </div>

                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="file_nm" class="gi-input-label" data-focus-label="true"
                                    data-required="true">[Page.Message].Message.Label.Array["SYS_FILE_DTL.FILE_NM"]</label>
                                <input data-field="file_nm" id="file_nm" name="file_nm" class="gi-input"
                                    data-focus-span-text-align="center" data-required="true" autocomplete="off" />
                            </div>
                        </div>

                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="file_sz" class="gi-input-label" data-focus-label="true"
                                    data-required="true">[Page.Message].Message.Label.Array["SYS_FILE_DTL.FILE_SZ"]</label>
                                <input data-field="file_sz" id="file_sz" name="file_sz" class="gi-input"
                                    data-focus-span-text-align="center" data-required="true" autocomplete="off" />
                            </div>
                        </div>

                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="file_ext" class="gi-input-label" data-focus-label="true"
                                    data-required="true">[Page.Message].Message.Label.Array["SYS_FILE_DTL.FILE_EXT"]</label>
                                <input data-field="file_ext" id="file_ext" name="file_ext"
                                    class="gi-input" data-focus-span-text-align="center" data-required="true"
                                    autocomplete="off" />
                            </div>
                        </div>

                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="file_path" class="gi-input-label" data-focus-label="true"
                                    data-required="true">[Page.Message].Message.Label.Array["SYS_FILE_DTL.FILE_PATH"]</label>
                                <input data-field="file_path" id="file_path" name="file_path" class="gi-input"
                                    data-focus-span-text-align="center" data-required="true" autocomplete="off" />
                            </div>
                        </div>

                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="sys_crt_dt" class="gi-input-label" data-focus-label="true"
                                    data-required="true">[Page.Message].Message.Label.Array["SYS_FILE_DTL.SYS_CRT_DT"]</label>
                                <input data-field="sys_crt_dt" id="sys_crt_dt" name="sys_crt_dt"
                                    class="gi-input" data-focus-span-text-align="center" data-required="true"
                                    autocomplete="off" />
                            </div>
                        </div>

                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="sys_crt_usr_id" class="gi-input-label" data-focus-label="true"
                                    data-required="true">[Page.Message].Message.Label.Array["SYS_FILE_DTL.SYS_CRT_USR_ID"]</label>
                                <input data-field="sys_crt_usr_id" id="sys_crt_usr_id"
                                    name="sys_crt_usr_id" class="gi-input" data-focus-span-text-align="center"
                                    data-required="true" autocomplete="off" />
                            </div>
                        </div>

                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="sys_upd_dt" class="gi-input-label" data-focus-label="true"
                                    data-required="false">[Page.Message].Message.Label.Array["SYS_FILE_DTL.SYS_UPD_DT"]</label>
                                <input data-field="sys_upd_dt" id="sys_upd_dt" name="sys_upd_dt"
                                    class="gi-input" data-focus-span-text-align="center" data-required="false"
                                    autocomplete="off" />
                            </div>
                        </div>

                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="sys_upd_usr_id" class="gi-input-label" data-focus-label="true"
                                    data-required="false">[Page.Message].Message.Label.Array["SYS_FILE_DTL.SYS_UPD_USR_ID"]</label>
                                <input data-field="sys_upd_usr_id" id="sys_upd_usr_id"
                                    name="sys_upd_usr_id" class="gi-input" data-focus-span-text-align="center"
                                    data-required="false" autocomplete="off" />
                            </div>
                        </div>

                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="menu_cd" class="gi-input-label" data-focus-label="true"
                                    data-required="false">[Page.Message].Message.Label.Array["SYS_FILE_DTL.MENU_CD"]</label>
                                <input data-field="menu_cd" id="menu_cd" name="menu_cd" class="gi-input"
                                    data-focus-span-text-align="center" data-required="false" autocomplete="off" />
                            </div>
                        </div>

                    </div>
                </div>

                <!-- [ÌååÏùº Ï≤®Î∂Ä Ïπ¥Îìú] -->
                <div class="gi-article-content gi-margin-bottom-30px">
                    <h2 class="gi-title-section">ÌååÏùº Ï≤®Î∂Ä</h2>
                    <div class="gi-flex gi-flex-column gi-grid-gap-10px">
                        <div class="gi-flex gi-flex-align-items-center gi-grid-gap-20px">
                            <!-- UUID ÏûÖÎ†•Ï∞ΩÏùÄ Ïà®ÍπÄ Ï≤òÎ¶¨ -->
                            <input data-field="file_uuid" id="sample_file_uuid" name="file_uuid" class="gi-hidden"
                                readonly />

                            <div class="gi-flex-1">
                                <p class="gi-text-secondary gi-font-size-14px">
                                    Ï≤®Î∂ÄÎêú ÌååÏùº Î™©Î°ùÏùÑ ÏïÑÎûòÏóêÏÑú ÌôïÏù∏Ìï† Ïàò ÏûàÏäµÎãàÎã§.
                                </p>
                            </div>
                            <button id="file-upload-btn" class="gi-btn-blue" type="button"
                                data-file-upload-btn>[Page.Message].Message.Label.Array["FILE_REGISTER_BTN"]</button>
                        </div>

                        <!-- ÌååÏùº Î™©Î°ù ÌëúÏãú ÏòÅÏó≠ -->
                        <div id="attached-file-list" class="gi-margin-top-10px"
                            style="min-height: 50px; border: 1px solid #f0f1f7; border-radius: 12px; padding: 16px; background: #f8f9fc;">
                            <div class="gi-file-list-empty"> <span class="gi-file-list-empty-icon">üìÇ</span>
                                <p class="gi-file-list-empty-text">Ï≤®Î∂ÄÎêú ÌååÏùºÏù¥ ÏóÜÏäµÎãàÎã§.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Î≤ÑÌäº ÏòÅÏó≠ -->
                <div class="gi-flex gi-flex-justify-content-center gi-grid-gap-16px gi-margin-top-40px">
                    <button id="register-reset-btn" class="gi-btn gi-btn-modern-reset" type="button">Ï¥àÍ∏∞Ìôî</button>
                    <button id="register-btn" class="gi-btn-blue gi-btn-modern-save"
                        type="button">[Page.Message].Message.Label.Array["REGISTER_BTN"]</button>
                </div>

            </form>
        </div>
    </section>
</article>
<script type="text/javascript">
    var PRGMID = "sysFileDetailRegisterPage";	//page id
    var PRGFID = "sysFileDetailRegisterFrom";	//Form id
    init();


    function init() {
        //Ï¥àÍ∏∞ Í∞í ÏÖãÌåÖ
        initValueSetting();

        //Ï¥àÍ∏∞Ìôî
        resetEvent();

        setTimeout(function () {
            //ÌéòÏù¥ÏßÄ Ï¥àÍ∏∞ÏÑ§Ï†ï
            new PageInit();
            //ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
            clickEvent();
        });

    }

    function initValueSetting() {
        // select option Ï¥àÍ∏∞Ìôî
        //input.setSelectOption("#sample_category", "/cms/common/sysCode/find", { code: "cd_id", name: "cd_nm" });

        // ÌååÏùº ÏóÖÎ°úÎìú Ï¥àÍ∏∞Ìôî
        fileUtil.createFileUpload("/fms/common/file/sysFileDetail", "sample_file_uuid", "sampleFolder");
    }

    function resetEvent() {
        //Îç∞Ïù¥ÌÑ∞ Ìò∏Ï∂ú ÌõÑ Ïù¥Î≤§Ìä∏ Ïû¨ÏÑ§Ï†ï
        new AfterLoadDataEvent();

    }

    //ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
    function clickEvent() {
        // Ï¥àÍ∏∞Ìôî Î≤ÑÌäº ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
        $("#register-reset-btn").click(function () {

        });
        //Îì±Î°ù Î≤ÑÌäº ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
        $("#register-btn").click(function () {
            sysFileDetailRegister();
        })
    }
    function sysFileDetailRegister() {
        let flag = sysFileDetailRegisterCheckValidation();
        if (flag) {
            let data = dataBinding.getData(PRGFID);
            let url = "/fms/common/sysFileDetail/register";
            //console.log(data);
            let param = {

                file_id: data.file_id,
                uuid: data.uuid,
                file_nm: data.file_nm,
                file_sz: data.file_sz,
                file_ext: data.file_ext,
                file_path: data.file_path,
                sys_crt_dt: data.sys_crt_dt,
                sys_crt_usr_id: data.sys_crt_usr_id,
                sys_upd_dt: data.sys_upd_dt,
                sys_upd_usr_id: data.sys_upd_usr_id,
                menu_cd: data.menu_cd
            };
            axios.post(url, param).then(response => {
                let status = response.status;
                if (status === 200) {
                    formUtil.toast(Message.Label.Array["COMPLETE.INSERT"], "success");
                } else {
                    formUtil.toast("response status is :" + status, "error");
                }
            }).catch(error => {
                formUtil.toast(error.response.data, "error");
            })
        }
    }
    function sysFileDetailRegisterCheckValidation() {
        return formUtil.validationCheck(PRGFID, "SYS_FILE_DTL.CHECK.");
    }
</script>