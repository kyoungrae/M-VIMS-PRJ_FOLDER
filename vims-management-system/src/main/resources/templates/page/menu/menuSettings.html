<style>
    .gi-popup-body {
        height: 450px !important;
    }
</style>
<article class="gi-article-content gi-col-95 gi-row-100">
    <section class="gi-col-100 gi-row-100">
        <header class="gi-flex gi-flex-center gi-col-5">
            <h1 class="gi-page-title">[Page.Message].Message.Label.Array["SYS_MENU.TITLE_LIST"]</h1>
        </header>
        <article class=" gi-col-93 gi-row-100">
            <!--      그리드 영역      -->
            <div class="gi-row-100 gi-col-95 gi-flex gi-flex-center gi-padding-left-right-5px">
                <div id="gi-Grid"></div>
                <div class="gi-Grid-side" id="access_group_grid" data-side-grid-open="false"></div>
            </div>
            <!--/     그리드 영역      -->
            <!--      추가버튼 영역      -->
            <div class="gi-row-100 gi-col-30px gi-margin-top-20px">
                <div
                    class="gi-btn-section gi-row-30 gi-float-right gi-padding-left-right-20px gi-flex gi-flex-justify-content-flex-end">
                    <button id="menu_depth0_register_btn" class="gi-btn-blue gi-float-right"
                        type="button">[Page.Message].Message.Label.Array["SYS_MENU.REGISTER_MENU_CODE"]</button>
                    <button id="menu_depth_register_btn" class="gi-btn-blue gi-float-right gi-hidden"
                        type="button">[Page.Message].Message.Label.Array["SYS_MENU.REGISTER_SUB_MENU_CODE"]</button>
                </div>
            </div>
            <!--/     추가버튼 영역      -->
        </article>
    </section>
</article>
<!--NOTE: 메뉴 등록 팝업-->
<article id="gi-menu_register-popup" class="gi-popup" data-popup-open="false">
    <div class="gi-popup-body gi-row-40-important">
        <div class="gi-popup-header">
            <span>[Page.Message].Message.Label.Array["SYS_MENU.TITLE_REGISTER"]</span>
        </div>
        <div class="gi-popup-contents" style="height: 50% !important;">
            <!--      팝업내용 삽입 영역      -->
            <form id="sysMenuRegister">
                <div class="gi-flex gi-flex-column gi-grid-gap-16px">
                    <div class="gi-hidden">
                        <div class="gi-input-container">
                            <label for="register_top_menu_code" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.TOP_MENU_CODE"]</label>
                            <input data-disabled data-field="top_menu_code" id="register_top_menu_code"
                                name="top_menu_code" class="gi-input" data-required="true" autocomplete="off" />
                        </div>
                    </div>
                    <div class="gi-flex gi-grid-gap-16px">
                        <div class="gi-input-container gi-flex-1">
                            <label for="register_menu_name" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.MENU_NAME_KR"]</label>
                            <input data-field="menu_name" id="register_menu_name" name="menu_name_kr" class="gi-input"
                                data-required="true" autocomplete="off" />
                        </div>
                        <div class="gi-input-container gi-flex-1">
                            <label for="register_menu_name_en" class="gi-input-label" data-focus-label="true"
                                data-required="false">[Page.Message].Message.Label.Array["SYS_MENU.MENU_NAME_EN"]</label>
                            <input data-field="menu_name" id="register_menu_name_en" name="menu_name_en"
                                class="gi-input" data-required="false" autocomplete="off" />
                        </div>
                        <div class="gi-input-container gi-flex-1">
                            <label for="register_menu_name_mn" class="gi-input-label" data-focus-label="true"
                                data-required="false">[Page.Message].Message.Label.Array["SYS_MENU.MENU_NAME_MN"]</label>
                            <input data-field="menu_name" id="register_menu_name_mn" name="menu_name_mn"
                                class="gi-input" data-required="false" autocomplete="off" />
                        </div>
                    </div>
                    <div class="gi-flex gi-grid-gap-16px">
                        <div class="gi-input-container gi-flex-1">
                            <label for="register_menu_code" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.MENU_CODE"]</label>
                            <input data-field="menu_code" id="register_menu_code" name="menu_code" class="gi-input"
                                data-required="true" autocomplete="off" />
                        </div>
                        <div class="gi-input-container gi-flex-1">
                            <label for="register_prgm_url" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.PRGM_URL"]</label>
                            <input data-field="prgm_url" id="register_prgm_url" name="prgm_url" class="gi-input"
                                data-required="true" autocomplete="off" />
                        </div>
                    </div>
                    <div class="gi-input-container gi-flex-1">
                        <label for="register_url" class="gi-input-label" data-focus-label="true"
                            data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.URL"]</label>
                        <input data-field="url" id="register_url" name="url" class="gi-input" data-required="true"
                            autocomplete="off" />
                    </div>
                    <div class="gi-flex gi-grid-gap-16px">
                        <div class="gi-input-container gi-flex-1">
                            <label for="register_menu_number" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.MENU_NUMBER"]</label>
                            <input inputNumberOnly maxlength="1" data-field="menu_number" id="register_menu_number"
                                name="menu_number" class="gi-input" data-required="true" autocomplete="off" />
                        </div>
                        <div class="gi-input-container gi-flex-1">
                            <label for="register_use_yn" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.USE_YN"]</label>
                            <input gi-selectbox data-selectbox-field="USE_YN" data-field="use_yn" id="register_use_yn"
                                name="use_yn" class="gi-input" data-required="true" autocomplete="off" />
                        </div>
                        <div class="gi-input-container gi-flex-1">
                            <label for="register_menu_level" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.MENU_LEVEL"]</label>
                            <input inputNumberOnly data-disabled data-field="menu_level" id="register_menu_level"
                                name="menu_level" class="gi-input" data-required="true" autocomplete="off"
                                maxlength="1" />
                        </div>
                    </div>
                </div>
            </form>
            <!--/      팝업내용 삽입 영역      -->
        </div>
        <div class="gi-popup-footer">
            <button id="menuRegister-btn" class="gi-popup-register-btn"
                type="button">[Page.Message].Message.Label.Array["REGISTER_BTN"]</button>
            <button class="gi-popup-close-btn" type="button">[Page.Message].Message.Label.Array["CLOSE_BTN"]</button>
        </div>
    </div>
</article>
<!--NOTE: 하위메뉴 등록 팝업-->
<article id="gi-menuDepth_register-popup" class="gi-popup" data-popup-open="false">
    <div class="gi-popup-body" style="width: 600px;">
        <div class="gi-popup-header">
            <span>[Page.Message].Message.Label.Array["SYS_MENU.REGISTER_SUB_MENU_CODE"]</span>
        </div>
        <div class="gi-popup-contents">
            <form id="comSubMenuRegister">
                <div class="gi-flex gi-flex-column gi-grid-gap-16px">
                    <div class="gi-flex gi-grid-gap-16px">
                        <div class="gi-input-container gi-flex-1">
                            <label for="sub_register_top_menu_code" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.TOP_MENU_CODE"]</label>
                            <input data-disabled data-field="top_menu_code" id="sub_register_top_menu_code"
                                name="top_menu_code" class="gi-input" data-required="true" autocomplete="off" />
                        </div>
                        <div class="gi-input-container gi-flex-1">
                            <label for="sub_register_menu_code" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.MENU_CODE"]</label>
                            <input data-field="menu_code" id="sub_register_menu_code" name="menu_code" class="gi-input"
                                data-required="true" autocomplete="off" />
                        </div>
                    </div>
                    <div class="gi-flex gi-grid-gap-16px">
                        <div class="gi-input-container">
                            <label for="sub_register_menu_name" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.MENU_NAME_KR"]</label>
                            <input data-field="menu_name_kr" id="sub_register_menu_name" name="menu_name_kr"
                                class="gi-input" data-required="true" autocomplete="off" />
                        </div>
                        <div class="gi-input-container">
                            <label for="sub_register_menu_name" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.MENU_NAME_EN"]</label>
                            <input data-field="menu_name_en" id="sub_register_menu_name" name="menu_name_en"
                                class="gi-input" data-required="true" autocomplete="off" />
                        </div>
                        <div class="gi-input-container">
                            <label for="sub_register_menu_name" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.MENU_NAME_MN"]</label>
                            <input data-field="menu_name_mn" id="sub_register_menu_name" name="menu_name_mn"
                                class="gi-input" data-required="true" autocomplete="off" />
                        </div>
                    </div>
                    <div class="gi-flex gi-grid-gap-16px">
                        <div class="gi-input-container gi-flex-1">
                            <label for="sub_register_prgm_url" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.PRGM_URL"]</label>
                            <input data-field="prgm_url" id="sub_register_prgm_url" name="prgm_url" class="gi-input"
                                data-required="true" autocomplete="off" />
                        </div>
                        <div class="gi-input-container gi-flex-1">
                            <label for="sub_register_url" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.URL"]</label>
                            <input data-field="url" id="sub_register_url" name="url" class="gi-input"
                                data-required="true" autocomplete="off" />
                        </div>
                    </div>
                    <div class="gi-flex gi-grid-gap-16px">
                        <div class="gi-input-container gi-flex-1">
                            <label for="sub_register_menu_number" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.MENU_NUMBER"]</label>
                            <input inputNumberOnly maxlength="1" data-field="menu_number" id="sub_register_menu_number"
                                name="menu_number" class="gi-input" data-required="true" autocomplete="off" />
                        </div>
                        <div class="gi-input-container gi-flex-1">
                            <label for="sub_register_use_yn" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.USE_YN"]</label>
                            <input gi-selectbox data-selectbox-field="USE_YN" data-field="use_yn"
                                id="sub_register_use_yn" name="use_yn" class="gi-input" data-required="true"
                                autocomplete="off" />
                        </div>
                        <div class="gi-input-container gi-flex-1">
                            <label for="sub_register_menu_level" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.MENU_LEVEL"]</label>
                            <input inputNumberOnly data-disabled data-field="menu_level" id="sub_register_menu_level"
                                name="menu_level" class="gi-input" data-required="true" autocomplete="off"
                                maxlength="1" />
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="gi-popup-footer">
            <button id="menuDepthRegister-btn" class="gi-popup-update-btn"
                type="button">[Page.Message].Message.Label.Array["REGISTER_BTN"]</button>
            <button class="gi-popup-close-btn" type="button">[Page.Message].Message.Label.Array["CLOSE_BTN"]</button>
        </div>
    </div>
</article>
<!--NOTE: 메뉴수정 팝업-->
<article id="gi-menu_update-popup" class="gi-popup" data-popup-open="false">
    <div class="gi-popup-body" style="width: 600px; height: auto !important;">
        <div class="gi-popup-header">
            <span>[Page.Message].Message.Label.Array["SYS_MENU.TITLE_MODIFY"]</span>
        </div>
        <div class="gi-popup-contents">
            <form id="sysMenuUpdate">
                <div class="gi-flex gi-flex-column gi-grid-gap-16px">
                    <div class="gi-hidden">
                        <div class="gi-input-container">
                            <label for="update_top_menu_code" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.TOP_MENU_CODE"]</label>
                            <input data-disabled data-field="top_menu_code" id="update_top_menu_code"
                                name="top_menu_code" class="gi-input" data-required="true" autocomplete="off" />
                        </div>
                    </div>
                    <div id="menu_icon_layout" class="gi-flex gi-grid-gap-16px">
                        <div class="gi-input-container gi-flex-1">
                            <label for="update_menu_icon" class="gi-input-label" data-focus-label="true"
                                data-required="false">[Page.Message].Message.Label.Array["SYS_MENU.MENU_ICON"]</label>
                            <input data-disabled data-field="menu_icon" id="update_menu_icon" name="top_menu_code"
                                class="gi-input" data-required="false" autocomplete="off" />
                        </div>
                        <div class="gi-flex gi-grid-gap-8px" style="margin-top: auto;">
                            <button id="update_popup_delete_icon-btn" class="gi-btn"
                                type="button">[Page.Message].Message.Label.Array["SYS_MENU.DELETE_ICON"]</button>
                            <button id="update_popup_icon-btn" class="gi-btn" type="button"
                                gi-popup-open-id="update_popup_icon_pack">[Page.Message].Message.Label.Array["SYS_MENU.ICON_SETTINGS"]</button>
                        </div>
                    </div>
                    <div class="gi-flex gi-grid-gap-16px">
                        <div class="gi-input-container gi-flex-1">
                            <label for="update_menu_code" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.MENU_CODE"]</label>
                            <input data-disabled data-field="menu_code" id="update_menu_code" name="menu_code"
                                class="gi-input" data-required="true" autocomplete="off" />
                        </div>
                    </div>
                    <div class="gi-flex gi-grid-gap-16px">
                        <div class="gi-input-container gi-flex-1">
                            <label for="update_menu_name_kr" class="gi-input-label" data-focus-label="true"
                                data-required="false">[Page.Message].Message.Label.Array["SYS_MENU.MENU_NAME_KR"]</label>
                            <input data-field="menu_name_kr" id="update_menu_name_kr" name="menu_name_kr"
                                class="gi-input" data-required="false" autocomplete="off" />
                        </div>
                    </div>
                    <div class="gi-flex gi-grid-gap-16px">
                        <div class="gi-input-container gi-flex-1">
                            <label for="update_menu_name_en" class="gi-input-label" data-focus-label="true"
                                data-required="false">[Page.Message].Message.Label.Array["SYS_MENU.MENU_NAME_EN"]</label>
                            <input data-field="menu_name_en" id="update_menu_name_en" name="menu_name_en"
                                class="gi-input" data-required="false" autocomplete="off" />
                        </div>
                    </div>
                    <div class="gi-flex gi-grid-gap-16px">
                        <div class="gi-input-container gi-flex-1">
                            <label for="update_menu_name_mn" class="gi-input-label" data-focus-label="true"
                                data-required="false">[Page.Message].Message.Label.Array["SYS_MENU.MENU_NAME_MN"]</label>
                            <input data-field="menu_name_mn" id="update_menu_name_mn" name="menu_name_mn"
                                class="gi-input" data-required="false" autocomplete="off" />
                        </div>

                    </div>
                    <div class="gi-flex gi-grid-gap-16px">
                        <div class="gi-input-container gi-flex-1">
                            <label for="update_prgm_url" class="gi-input-label" data-focus-label="true"
                                data-required="false">[Page.Message].Message.Label.Array["SYS_MENU.PRGM_URL"]</label>
                            <input data-field="prgm_url" id="update_prgm_url" name="prgm_url" class="gi-input"
                                data-required="false" autocomplete="off" />
                        </div>
                        <div class="gi-input-container gi-flex-1">
                            <label for="update_url" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.URL"]</label>
                            <input data-field="url" id="update_url" name="url" class="gi-input" data-required="true"
                                autocomplete="off" />
                        </div>
                    </div>
                    <div class="gi-flex gi-grid-gap-16px">
                        <div class="gi-input-container gi-flex-1">
                            <label for="update_use_yn" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.USE_YN"]</label>
                            <!-- <input gi-selectbox data-selectbox-field="USE_YN" data-field="use_yn" id="update_use_yn"
                                name="use_yn" class="gi-input" data-required="true" autocomplete="off" /> -->
                            <input type="toggle" data-field="use_yn" id="update_use_yn" name="use_yn" class="gi-input"
                                data-required="true" autocomplete="off" />
                        </div>
                        <div class="gi-input-container gi-flex-1">
                            <label for="update_menu_number" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.MENU_NUMBER"]</label>
                            <input inputNumberOnly maxlength="1" data-field="menu_number" id="update_menu_number"
                                name="menu_number" class="gi-input" data-required="true" autocomplete="off" />
                        </div>
                        <div class="gi-input-container gi-flex-1">
                            <label for="update_menu_level" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.MENU_LEVEL"]</label>
                            <input inputNumberOnly data-disabled data-field="menu_level" id="update_menu_level"
                                name="menu_level" class="gi-input" data-required="true" autocomplete="off"
                                maxlength="1" />
                        </div>
                        <div class="gi-input-container gi-flex-1">
                            <label for="update_menu_sequence" class="gi-input-label" data-focus-label="true"
                                data-required="true">[Page.Message].Message.Label.Array["SYS_MENU.MENU_SEQUENCE"]</label>
                            <input inputNumberOnly data-disabled data-field="menu_sequence" id="update_menu_sequence"
                                name="menu_sequence" class="gi-input" data-required="true" autocomplete="off"
                                maxlength="" />
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="gi-popup-footer">
            <button id="menuUpdate-btn" class="gi-popup-update-btn"
                type="button">[Page.Message].Message.Label.Array["UPDATE_BTN"]</button>
            <button class="gi-popup-close-btn" type="button">[Page.Message].Message.Label.Array["CLOSE_BTN"]</button>
        </div>
    </div>
</article>
<!--NOTE: 메뉴아이콘 설정 팝업-->
<article id="update_popup_icon_pack" class="gi-popup" data-popup-open="false">
    <div class="gi-popup-body gi-row-40-important" style="height: 64% !important; max-width: 50% !important;">
        <div class="gi-popup-header" style="height: 10% !important;">
            <span>[Page.Message].Message.Label.Array["SYS_ICON.TITLE_LIST"]</span>
        </div>
        <div id="search-area" class="gi-row-100 gi-col-35px gi-flex gi-grid-gap-10px" style="padding: 0 20px;">
            <!--      검색설정 영역      -->
            <div class="gi-row-35 gi-col-100 gi-input-container gi-input-container-box-shadow gi-flex gi-flex-center"
                data-focus-line="false">
                <label for="search_icon_class" class="gi-input-label" data-focus-label="false"
                    data-focus-label-text-align="center"
                    data-required="false">[Page.Message].Message.Label.Array["SYS_ICON.ICON_CLASS"]</label>
                <input class="gi-input gi-margin-1px" data-required="false" type="text" id="search_icon_class"
                    name="icon_class" data-focus-input-text-align="center" autocomplete="off" />
            </div>
            <button id="reset-btn" class="gi-btn-reset gi-input-container-box-shadow" type="button"><i
                    class="fa-solid fa-rotate-right gi-row-30px"></i>[Page.Message].Message.Label.Array["RESET_BTN"]</button>
            <button id="search_icon_class-btn" class="gi-btn-search gi-row-40px gi-input-container-box-shadow"
                type="button"
                style="margin-left: auto; margin-right: 0;">[Page.Message].Message.Label.Array["SEARCH_BTN"]</button>
        </div>
        <div class="gi-popup-contents gi-overflow-scroll">
            <!--      팝업내용 삽입 영역      -->
            <div class="gi-row-100 gi-col-auto gi-flex gi-flex-center gi-flex-direction-column">
                <div class="gi-Grid" id="gi-icon-grid"></div>
            </div>
            <!--/      팝업내용 삽입 영역      -->
        </div>
        <div class="gi-popup-footer" style="height: 10% !important;">
            <div
                class="gi-btn-section gi-row-30 gi-col-30px gi-padding-left-right-20px gi-flex gi-flex-justify-content-center gi-flex-align-items-center">
                <button id="btn" class="gi-popup-update-btn"
                    type="button">[Page.Message].Message.Label.Array["UPDATE_BTN"]</button>
                <button class="gi-popup-close-btn"
                    type="button">[Page.Message].Message.Label.Array["CLOSE_BTN"]</button>
            </div>
        </div>
    </div>
</article>
<!-- 접근권한 설정 popup -->
<script type="text/javascript">
    var SYS_MENU_UPDATE_PRGMID = "sysMenuUpdate";
    var SYS_MENU_REGISTER_PRGMID = "sysMenuRegister";
    var SYS_MENU_DEPTH_REGISTER_PRGMID = "comSubMenuRegister";

    var rowClickData = [];
    var inputTageReset = new AfterLoadDataEvent();

    init();

    function init() {
        //페이지 초기설정
        new PageInit();

        //초기화
        resetEvent();

        //데이터 조회
        findBySysCodeMenuList();

        setTimeout(function () {
            //클릭 이벤트
            clickEvent();
        });
    }

    function resetEvent() {
        //검색영역 값 초기화
        $("#search-area input").val("");
        $("#search-area select").val("");

        //데이터 호출 후 이벤트 재설정
        inputTageReset.commonTagSettings();
    }

    //클릭 이벤트
    function clickEvent() {
        // 초기화버튼 클릭 이벤트
        $(".gi-btn-reset").click(function () {
            resetEvent();
            // findBySysCodeMenuList();
        });
        //조회버튼 클릭 이벤트
        $("#search-btn").click(function () {
            // findBySysCodeMenuList();
        });

        $("#menu_depth0_register_btn").click(function () {
            menuRegisterSetting();
        })
        $("#menuRegister-btn").click(function () {
            sysMenuRegister();
        })
        $("#menu_depth_register_btn").click(function () {
            menuDepthRegisterSetting();
        })
        $("#update_popup_icon-btn").click(function () {
            findBySysIconList();
        })
        $("#search_icon_class-btn").click(function () {
            findBySysIconList();
        })
    }
    function findBySysCodeMenuList(page, range, sortId, sortOrder) {
        let url = "/cms/common/sysMenu/findHierarchy";
        let param = {
        };
        // 검색조건 설정 (추가해서 사용)
        let cont1 = $("#menu_name").val();
        if (formUtil.checkEmptyValue(cont1)) param.menu_name = cont1;
        // 정렬조건추가 (기준id, 순서)
        param.sort_id = "menu_level, menu_number";
        param.sort_order = "ASC";

        axios.post(url, param).then(response => {
            let status = response.status;
            if (status === 200) {
                let data = response.data;

                // 그리드 헤더 설정
                let menuGrid = {
                    title: Message.Label.Array["SYS_MENU.TITLE_LIST"],
                    list: [
                        { HEADER: Message.Label.Array["SYS_MENU.MENU_NAME_KR"], ID: "menu_name_kr", WIDTH: "15", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "left", HIDDEN: false },
                        { HEADER: Message.Label.Array["SYS_MENU.MENU_NAME_MN"], ID: "menu_name_mn", WIDTH: "15", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "left", HIDDEN: false },
                        { HEADER: Message.Label.Array["SYS_MENU.MENU_NAME_EN"], ID: "menu_name_en", WIDTH: "15", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "left", HIDDEN: false },
                        { HEADER: Message.Label.Array["SYS_MENU.MENU_CODE"], ID: "menu_code", WIDTH: "15", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "left", HIDDEN: false },
                        { HEADER: Message.Label.Array["SYS_MENU.MENU_LEVEL"], ID: "menu_level", WIDTH: "5", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "center", HIDDEN: true },
                        { HEADER: Message.Label.Array["SYS_MENU.MENU_NUMBER"], ID: "menu_number", WIDTH: "5", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "center", HIDDEN: false },
                        { HEADER: Message.Label.Array["SYS_MENU.TOP_MENU_CODE"], ID: "top_menu_code", WIDTH: "15", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "left", HIDDEN: false },
                        { HEADER: Message.Label.Array["SYS_MENU.PRGM_URL"], ID: "prgm_url", WIDTH: "5", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "left", HIDDEN: false },
                        { HEADER: Message.Label.Array["SYS_MENU.URL"], ID: "url", WIDTH: "15", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "left", HIDDEN: false },
                        { HEADER: Message.Label.Array["SYS_ICON.ICON_VIEW"], ID: 'icon_view', WIDTH: '10', TYPE: 'text', FONT_SIZE: '12px', TEXT_ALIGN: 'center', HIDDEN: false },
                        { HEADER: Message.Label.Array["SYS_ICON.ICON_CLASS"], ID: "menu_icon", WIDTH: "7", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "center", HIDDEN: false },
                        { HEADER: Message.Label.Array["SYS_MENU.USE_YN"], ID: "use_yn", WIDTH: "7", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "center", SYS_CODE_GROUP_ID: "USE_YN", HIDDEN: false },
                        { HEADER: Message.Label.Array["UPDATE_BTN"], ID: "update_menu_btn", WIDTH: "5", TYPE: "button", FONT_SIZE: "12px", TEXT_ALIGN: "center", HIDDEN: false },
                        { HEADER: Message.Label.Array["DELETE_BTN"], ID: "delete_menu_btn", WIDTH: "5", TYPE: "button", FONT_SIZE: "12px", TEXT_ALIGN: "center", HIDDEN: false },
                        // {HEADER: Message.Label.Array["SYS_MENU.REGISTER_MENU_ACCESS_GROUP_BTN"],ID:"access_right_group",     WIDTH:"5",TYPE:"button",FONT_SIZE:"12px",TEXT_ALIGN:"center",VISIBLE_OPTION_BTN:{"menu_level":"0"},HIDDEN:false},
                        { HEADER: Message.Label.Array["SYS_MENU.REGISTER_MENU_ACCESS_GROUP_BTN"], ID: "access_right_group", WIDTH: "5", TYPE: "button", FONT_SIZE: "12px", TEXT_ALIGN: "center", VISIBLE_OPTION_BTN: [{ "menu_level": "0" }, { "menu_level": "1" }], HIDDEN: false },

                        { HEADER: Message.Label.Array["SYS_MENU.MENU_SEQUENCE"], ID: "menu_sequence", WIDTH: "5", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "center", HIDDEN: true },
                        { HEADER: Message.Label.Array["SYS_MENU.MENU_NAME_EN"], ID: "menu_name_en", WIDTH: "15", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "left", HIDDEN: true },
                        { HEADER: Message.Label.Array["SYS_MENU.MENU_NAME_MN"], ID: "menu_name_mn", WIDTH: "15", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "left", HIDDEN: true },
                        { HEADER: Message.Label.Array["SYS_MENU.USE_YN"], ID: "use_yn", WIDTH: "20", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "center", HIDDEN: true },
                        { HEADER: "No", ID: "no", WIDTH: "7", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "center", HIDDEN: true },
                        { HEADER: Message.Label.Array["SYS_MENU.SYSTEM_CREATE_DATE"], ID: "system_create_date", WIDTH: "15", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "center", HIDDEN: true },
                        { HEADER: Message.Label.Array["SYS_MENU.SYSTEM_CREATE_USERID"], ID: "system_create_userid", WIDTH: "15", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "center", HIDDEN: true },
                        { HEADER: Message.Label.Array["SYS_MENU.SYSTEM_UPDATE_DATE"], ID: "system_update_date", WIDTH: "15", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "center", HIDDEN: true },
                        { HEADER: Message.Label.Array["SYS_MENU.SYSTEM_UPDATE_USERID"], ID: "system_update_userid", WIDTH: "15", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "center", HIDDEN: true }
                    ]
                }
                //그리드 생성 <div id="gi-Grid"></div>
                let menu_grid = formUtil.giGridHierarchy(menuGrid, "", "", "gi-Grid");
                //계층 구조 기준컬럼명 설정
                menu_grid.HierarchyOption({ level_column: "menu_level", parent_depth_column: "menu_code", child_depth_column: "top_menu_code" });
                //그리드 데이터 설정
                data.map((item, i) => {
                    data[i]["icon_view"] = "<i class='fa-solid " + item.menu_icon + "'></i>";
                })
                menu_grid.RowWarning("use_yn", "0", Message.Label.Array["NOT_USED"]);
                menu_grid.DataSet(data);
                //그리드 엑셀 다운로드 버튼 활성화
                menu_grid.excelDownloadEvent(Message.Label.Array["SYS_MENU.TITLE_LIST"]);

                //그리드 내부의 상세 버튼 클릭 이벤트 설정(버튼클릭시 호출될 함수, 그리드 헤더 부분에 설정한 버튼 ID)
                menu_grid.updateBtnClick(menuUpdateSetting, "update_menu_btn");
                menu_grid.deleteBtnClick(sysMenuDelete, "delete_menu_btn");

                //그리스 내부의 header click 정렬 이벤트 설정
                //menu_grid.sortDataSet(findBySysCodeMenuList);
                menu_grid.sideOpenBtnClick("access_group_grid", "access_right_group", accessGroupStatus);
                menu_grid.gridColumResize("gi-Grid");
                //그리드 row 선택 이벤트 설정
                menu_grid.rowClick(rowClickEvent);
                function rowClickEvent(rows, e) {
                    let clickFlag = $(e.currentTarget).hasClass("gi-grid-list-select");

                    let sideGridOpenFlag = $("#access_group_grid").attr("data-side-grid-open");
                    if (clickFlag) {
                        if (sideGridOpenFlag === "true") {
                            let accessGroupBtnActive = $(e.currentTarget).find("li[data-field='access_right_group']").children().length > 0;
                            if (accessGroupBtnActive) {
                                findBySysDeptGroupList(null, null, null, null, rows);
                                findBySysAccsGroupMenuList(null, null, null, null, rows);
                            } else {
                                findBySysDeptGroupList(null, null, null, null, null);
                                findBySysAccsGroupMenuList(null, null, null, null, null);
                            }
                        }
                        if (rows.menu_level !== "2") {
                            $("#menu_depth_register_btn").removeClass("gi-hidden");
                            rowClickData = rows;
                            if (rows.menu_level === "1") {
                                $("#register_depth_prgm_url").attr("data-required", "true");
                                $("label[for='register_depth_prgm_url']").attr("data-required", "true");
                            }
                            $("#menuDepthRegister-btn").off("click").on("click", function () {
                                comSubMenuRegister();
                            })
                        } else {
                            $("#menu_depth_register_btn").addClass("gi-hidden");
                            rowClickData = rows;
                        }
                    } else {
                        $("#menu_depth_register_btn").addClass("gi-hidden");
                    }
                }
            } else {
                formUtil.toast("response status is :" + status);
            }
        }).catch(error => {
            formUtil.toast(error);
        })
    }
    async function accessGroupStatus(data) {
        let htmlSource =
            '<div class="gi-row-100 gi-col-100 gi-flex gi-flex-column gi-padding-10px" style="gap: 20px; overflow-y: auto;">'
            + '  <div class="gi-flex gi-flex-column" style="height: 350px; flex-shrink: 0;">'
            + '    <span class="gi-text-align-center" style="font-weight: 600; margin-bottom: 10px; color: #334155;">[ ' + Message.Label.Array["SYS_DEPT_GROUP.TITLE_LIST"] + ' ]</span>'
            + '    <div id="gi-Grid2" class="gi-Grid" style="height: calc(100% - 30px) !important;"></div>'
            + '  </div>'
            + '  <div style="border-top: 1px dashed #cbd5e1; margin: 0 10px;"></div>'
            + '  <div class="gi-flex gi-flex-column" style="height: 350px; flex-shrink: 0;">'
            + '    <span class="gi-text-align-center" style="font-weight: 600; margin-bottom: 10px; color: #334155;">[ ' + Message.Label.Array["SYS_ACCS_GROUP_MENU.TITLE_LIST"] + ' ]</span>'
            + '    <div id="gi-Grid3" class="gi-Grid" style="height: calc(100% - 30px) !important;"></div>'
            + '  </div>'
            + '</div>';
        $("#access_group_grid").html(htmlSource);
        await findBySysDeptGroupList(null, null, null, null, data);
        await findBySysAccsGroupMenuList(null, null, null, null, data);
    }
    /**
     * NOTE : 그룹 목록
     * @param page
     * @param range
     * @param sortId
     * @param sortOrder
     * @param cont
     */
    function findBySysDeptGroupList(page, range, sortId, sortOrder, cont) {
        let url = "/cms/common/sysDeptGroup/findNotExistsSysAccsGroupMenu";
        let param = {
        };
        // 검색조건 설정 (추가해서 사용)
        if (cont !== null) if (formUtil.checkEmptyValue(cont.menu_code)) param.menu_code = cont.menu_code;
        axios.post(url, param).then(response => {
            let status = response.status;
            if (status === 200) {
                let data = response.data;
                // 그리드 헤더 설정
                let sysDeptGroup_menuGrid_header = {
                    title: Message.Label.Array["SYS_DEPT_GROUP.TITLE_LIST"],
                    list: [
                        { HEADER: Message.Label.Array["SYS_DEPT_GROUP.GROUP_NAME"], ID: "group_name", WIDTH: "30", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "center", HIDDEN: false },
                        { HEADER: Message.Label.Array["SYS_DEPT_GROUP.TOP_GROUP_ID"], ID: "top_group_id", WIDTH: "20", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "center", HIDDEN: false },
                        { HEADER: Message.Label.Array["SYS_DEPT_GROUP.GROUP_ID"], ID: "group_id", WIDTH: "20", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "center", HIDDEN: false },
                        { HEADER: Message.Label.Array["SYS_DEPT_GROUP.USE_YN"], ID: "use_yn", WIDTH: "20", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "center", SYS_CODE_GROUP_ID: "USE_YN", HIDDEN: false },
                        { HEADER: Message.Label.Array["SYS_DEPT_GROUP.GROUP_LEVEL"], ID: "group_level", WIDTH: "5", TYPE: "text", FONT_SIZE: "12px", TEXT_ALIGN: "center", HIDDEN: true },
                        { HEADER: Message.Label.Array["REGISTER_BTN"], ID: "register_btn", WIDTH: "10", TYPE: "button", FONT_SIZE: "12px", TEXT_ALIGN: "center", VISIBLE_OPTION_BTN: { "group_level": "0" }, HIDDEN: false },
                    ]
                }
                //그리드 생성 <div id="gi-Grid"></div>
                let sysDeptGroup_menu_grid = formUtil.giGridHierarchy(sysDeptGroup_menuGrid_header, null, null, "gi-Grid2");

                sysDeptGroup_menu_grid.HierarchyOption({ level_column: "group_level", parent_depth_column: "group_id", child_depth_column: "top_group_id" });
                //그리드 데이터 설정
                if (cont !== null) {
                    sysDeptGroup_menu_grid.DataSet(data);
                } else {
                    sysDeptGroup_menu_grid.DataSet();
                }

                sysDeptGroup_menu_grid.detailBtnClick(registerAccessGroupInMenu, "register_btn");
                sysDeptGroup_menu_grid.gridColumResize("gi-Grid2");
                function registerAccessGroupInMenu(row) {
                    row["menu_code"] = cont.menu_code;
                    accessGroupInMenuRegister(row);
                }

            } else {
                formUtil.toast("response status is :" + status);
            }
        }).catch(error => {
            formUtil.toast(error);
        })
    }
    function accessGroupInMenuRegister(row) {
        let flag = true;
        if (flag) {
            let url = "/cms/common/sysAccsGroupMenu/register";
            let param = {
                menu_code: row.menu_code,
                access_rights_group_id: row.group_id
            };
            axios.post(url, param).then(response => {
                let status = response.status;
                if (status === 200) {
                    formUtil.toast(Message.Label.Array["COMPLETE.INSERT"]);
                    findBySysDeptGroupList(null, null, null, null, row);
                    findBySysAccsGroupMenuList(null, null, null, null, row);
                    findByMenuList();
                } else {
                    formUtil.toast("response status is :" + status);
                }
            }).catch(error => {
                formUtil.toast(error.response.data);
            })
        }
    }

    /**
     * NOTE: 권한 적용 그룹 목록
     * @param page
     * @param range
     * @param sortId
     * @param sortOrder
     * @param cont
     */
    function findBySysAccsGroupMenuList(page, range, sortId, sortOrder, cont) {
        //default page
        if (!formUtil.checkEmptyValue(page)) page = 1;
        //default range(row)
        if (!formUtil.checkEmptyValue(range)) range = 10;

        let url = "/cms/common/sysAccsGroupMenu/findPage";
        let param = {
            page_no: page,
            row_range: range,
            offset: (page - 1) * range
        };
        if (cont !== null) if (formUtil.checkEmptyValue(cont.menu_code)) param.menu_code = cont.menu_code;
        // 정렬조건추가 (기준id, 순서)
        if (formUtil.checkEmptyValue(sortId)) param.sort_id = sortId;
        if (formUtil.checkEmptyValue(sortOrder)) param.sort_order = sortOrder;

        axios.post(url, param).then(response => {
            let status = response.status;
            if (status === 200) {
                let data = response.data.DATA;
                let paging = response.data.TOTAL_PAGING[0];

                // 그리드 헤더 설정
                let sysAccsGroupMenu_menuGrid_header = {
                    title: Message.Label.Array["SYS_ACCS_GROUP_MENU.TITLE_LIST"],
                    list: [
                        { HEADER: 'No', ID: 'no', WIDTH: '7', TYPE: 'text', FONT_SIZE: '12px', TEXT_ALIGN: 'center', HIDDEN: false },
                        { HEADER: Message.Label.Array["SYS_ACCS_GROUP_MENU.MENU_CODE"], ID: 'menu_code', WIDTH: '40', TYPE: 'text', FONT_SIZE: '12px', TEXT_ALIGN: 'center', HIDDEN: false },
                        { HEADER: Message.Label.Array["SYS_ACCS_GROUP_MENU.ACCESS_RIGHTS_GROUP_ID"], ID: 'access_rights_group_id', WIDTH: '40', TYPE: 'text', FONT_SIZE: '12px', TEXT_ALIGN: 'center', HIDDEN: false },
                        { HEADER: Message.Label.Array["SYS_ACCS_GROUP_MENU.SYSTEM_CREATE_DATE"], ID: 'system_create_date', WIDTH: '40', TYPE: 'text', FONT_SIZE: '12px', TEXT_ALIGN: 'center', HIDDEN: true },
                        { HEADER: Message.Label.Array["SYS_ACCS_GROUP_MENU.SYSTEM_CREATE_USERID"], ID: 'system_create_userid', WIDTH: '40', TYPE: 'text', FONT_SIZE: '12px', TEXT_ALIGN: 'center', HIDDEN: true },
                        { HEADER: Message.Label.Array["SYS_ACCS_GROUP_MENU.SYSTEM_UPDATE_DATE"], ID: 'system_update_date', WIDTH: '40', TYPE: 'text', FONT_SIZE: '12px', TEXT_ALIGN: 'center', HIDDEN: true },
                        { HEADER: Message.Label.Array["SYS_ACCS_GROUP_MENU.SYSTEM_UPDATE_USERID"], ID: 'system_update_userid', WIDTH: '40', TYPE: 'text', FONT_SIZE: '12px', TEXT_ALIGN: 'center', HIDDEN: true },
                        { HEADER: Message.Label.Array["DELETE_BTN"], ID: 'delete_btn', WIDTH: '15', TYPE: 'button', FONT_SIZE: '12px', TEXT_ALIGN: 'center', HIDDEN: false },
                        { HEADER: '사이드 그리드', ID: 'sideGridOpen_btn', WIDTH: '15', TYPE: 'button', FONT_SIZE: '12px', TEXT_ALIGN: 'center', HIDDEN: true },
                        { HEADER: 'checkbox', ID: 'checkbox', WIDTH: '25', TYPE: 'checkbox', FONT_SIZE: '12px', TEXT_ALIGN: 'center', HIDDEN: true }
                    ]
                }
                //그리드 생성 <div id="gi-Grid"></div>
                let sysAccsGroupMenu_menu_grid = formUtil.giGrid(sysAccsGroupMenu_menuGrid_header, paging, page, "gi-Grid3");

                //그리드 하이라키 구조로 변경
                //let sysAccsGroupMenu_menu_grid = formUtil.giGridHierarchy(sysAccsGroupMenu_menuGrid_header,paging,page);
                //sysAccsGroupMenu_menu_grid.HierarchyOption({level_column:"",parent_depth_column:"",child_depth_column:""});

                //사이드 그리드 설정
                //sysAccsGroupMenu_menu_grid.sideOpenBtnClick("gi-Grid-side","sideGridOpen_btn");

                //그리드 데이터 설정
                if (cont !== null) {
                    sysAccsGroupMenu_menu_grid.DataSet(data);
                } else {
                    sysAccsGroupMenu_menu_grid.DataSet();
                }
                //그리드 row 개수 변경 및 페이징 버튼 이벤트 설정
                sysAccsGroupMenu_menu_grid.pagingSet(findBySysAccsGroupMenuList);

                //그리드 내부의 상세 버튼 클릭 이벤트 설정(버튼클릭시 호출될 함수, 그리드 헤더 부분에 설정한 버튼 ID)
                // sysAccsGroupMenu_menu_grid.detailBtnClick(redirectDetailPage,"detail_btn");

                sysAccsGroupMenu_menu_grid.deleteBtnClick(deleteCommonAccessGroupId, "delete_btn");

                //그리스 내부의 header click 정렬 이벤트 설정
                sysAccsGroupMenu_menu_grid.sortDataSet(findBySysAccsGroupMenuList);
                sysAccsGroupMenu_menu_grid.gridColumResize("gi-Grid3");

                function deleteCommonAccessGroupId(row) {
                    commonAccessGroupIdRemove(row);
                }
            } else {
                formUtil.toast("response status is :" + status);
            }
        }).catch(error => {
            formUtil.toast(error.response.data);
        })
    }
    //NOTE: 메뉴 등록 팝업 데이터 설정
    function menuRegisterSetting() {
        $("#gi-menu_register-popup").attr("data-popup-open", "true");
        $("#register_top_menu_code").val("-");

        $("#register_menu_level").val("0");
        $("#register_prgm_url").attr("data-required", "false");
        $("label[for='register_prgm_url']").attr("data-required", "false");
        inputTageReset.commonTagSettings();
    }
    function menuDepthRegisterSetting() {
        popup.open("gi-menuDepth_register-popup");
        $("#sub_register_top_menu_code").val(rowClickData.menu_code);
        $("#sub_register_menu_level").val((parseInt(rowClickData.menu_level) + 1) + "");

        inputTageReset.commonTagSettings();
    }

    //NOTE: 메뉴 수정 팝업 데이터 설정
    function menuUpdateSetting(cont) {
        $("#gi-menu_update-popup").attr("data-popup-open", "true");
        // dataBinding.setDataSelectBox("update_use_yn", cont.use_yn);
        dataBinding.setDataForm("gi-menu_update-popup", cont);
        $("#update_popup_delete_icon-btn").off("click").on("click", function () {
            $("#update_menu_icon").val("");
        })
        if (cont.menu_level !== "0") {
            $("#menu_icon_layout").addClass("gi-hidden");
            $("#update_menu_icon").val("");
            if (cont.menu_level !== "1") {
                $("#update_prgm_url").attr("data-required", "true");
                $("label[for='update_prgm_url']").attr("data-required", "true");
            } else {
                $("#update_prgm_url").attr("data-required", "false");
                $("label[for='update_prgm_url']").attr("data-required", "false");
            }
        } else {
            $("#menu_icon_layout").removeClass("gi-hidden");
            $("#update_prgm_url").attr("data-required", "false");
            $("label[for='update_prgm_url']").attr("data-required", "false");
        }
        $("#menuUpdate-btn").off("click.menuUpdateBtnClickEventHandler").on("click.menuUpdateBtnClickEventHandler", menuUpdateBtnClickEventHandler);
        function menuUpdateBtnClickEventHandler() {
            sysMenuUpdate();
        }
    }
    /**
     * NOTE: 상위메뉴등록
     */
    function sysMenuRegister() {
        let flag = checkRegisterPopupValidation();
        if (flag) {
            let url = "/cms/common/sysMenu/register"
            let data = dataBinding.getData(SYS_MENU_REGISTER_PRGMID);
            let param = {
                menu_code: data.menu_code,
                menu_name_kr: data.menu_name,
                menu_name_en: data.menu_name_en,
                menu_name_mn: data.menu_name_mn,
                menu_number: data.menu_number,
                menu_level: data.menu_level,
                top_menu_code: data.top_menu_code,
                url: data.url,
                prgm_url: data.prgm_url,
                use_yn: data.use_yn
            };

            axios.post(url, param).then(response => {
                if (response.status === 200) {
                    formUtil.toast(Message.Label.Array["COMPLETE.INSERT"]);
                    popup.close("gi-menu_register-popup");
                    findBySysCodeMenuList();
                    findByMenuList();
                } else {
                    formUtil.toast(Message.Label.Array["FAIL.INSERT"])
                }
            }).catch(error => {
                formUtil.toast(error.response.data);
            })
        }
    }

    /**
     * NOTE: 하위메뉴등록
     */
    function comSubMenuRegister() {
        let flag = checkValidation(SYS_MENU_DEPTH_REGISTER_PRGMID);
        if (flag) {
            let url = "/cms/common/sysMenu/register"
            let data = dataBinding.getData(SYS_MENU_DEPTH_REGISTER_PRGMID);
            let param = {
                menu_code: data.menu_code,
                menu_name_kr: data.menu_name_kr,
                menu_name_en: data.menu_name_en,
                menu_name_mn: data.menu_name_mn,
                menu_number: data.menu_number,
                menu_level: data.menu_level,
                top_menu_code: data.top_menu_code,
                url: data.url,
                prgm_url: data.prgm_url,
                use_yn: data.use_yn
            };

            axios.post(url, param).then(response => {
                if (response.status === 200) {
                    formUtil.toast(Message.Label.Array["COMPLETE.INSERT"]);
                    popup.close("gi-menuDepth_register-popup");
                    findBySysCodeMenuList();
                    findByMenuList();
                } else {
                    formUtil.toast(Message.Label.Array["FAIL.INSERT"])
                }
            }).catch(error => {
                formUtil.toast(error.response.data);
            })
        }
    }
    /**
     * NOTE: 메뉴 수정 
     */
    function sysMenuUpdate() {
        if (menuModifyCheckValidation(SYS_MENU_UPDATE_PRGMID)) {
            let data = dataBinding.getData(SYS_MENU_UPDATE_PRGMID);
            console.log(data)
            let url = "/cms/common/sysMenu/update";
            let param = {
                menu_code: data.menu_code,
                menu_name_kr: data.menu_name_kr,
                menu_name_en: data.menu_name_en,
                menu_name_mn: data.menu_name_mn,
                menu_number: data.menu_number,
                menu_level: data.menu_level,
                top_menu_code: data.top_menu_code,
                url: data.url,
                prgm_url: data.prgm_url,
                use_yn: data.use_yn,
                menu_sequence: data.menu_sequence,
                menu_icon: data.menu_icon
            };
            axios.post(url, param).then(response => {
                if (response.status === 200) {
                    formUtil.toast(Message.Label.Array["COMPLETE.UPDATE"]);
                    popup.close("gi-menu_update-popup");
                    findBySysCodeMenuList();
                    findByMenuList();
                } else {
                    formUtil.toast(Message.Label.Array["FAIL.UPDATE"]);
                }
            }).catch(error => {
                formUtil.toast(error + "");
            })
        }
    }
    /**
     * NOTE: 메뉴 ROW DATA 삭제
     * @param cont
     */
    function sysMenuDelete(cont) {
        let data = cont;
        let url = "/cms/common/sysMenu/removeMenuCode";
        let param = {
            menu_code: data.menu_code,
            menu_sequence: data.menu_sequence
        };
        axios.post(url, param).then(response => {
            formUtil.toast(Message.Label.Array["COMPLETE.DELETE"]);
            findBySysCodeMenuList();
            findByMenuList();
        }).catch(error => {
            formUtil.toast(error.response.data);
        })
    }
    function checkRegisterPopupValidation() {
        return formUtil.validationCheck(SYS_MENU_REGISTER_PRGMID, "SYS_MENU.CHECK.");
    }
    function checkValidation(ID) {
        return formUtil.validationCheck(ID, "SYS_MENU.CHECK.");
    }
    //NOTE: 메뉴 수정 유효성 검사
    function menuModifyCheckValidation(ID) {
        return formUtil.validationCheck(ID, "SYS_MENU.CHECK.");
    }
    //NOTE: 권한 적용 그룹 목록 Group_id 삭제
    function commonAccessGroupIdRemove(cont) {
        let url = "/cms/common/sysAccsGroupMenu/remove";
        let param = {
            menu_code: cont.menu_code,
            access_rights_group_id: cont.access_rights_group_id
        }
        axios.post(url, param).then(response => {
            if (response.status === 200) {
                formUtil.toast(Message.Label.Array["COMPLETE.DELETE"]);
                findBySysDeptGroupList(null, null, null, null, cont);
                findBySysAccsGroupMenuList(null, null, null, null, cont);
                findByMenuList();
            }
        }).catch(error => {
            formUtil.toast(error.response.data);
        })
    }
    function findBySysIconList(page, range, sortId, sortOrder) {
        //default page
        if (!formUtil.checkEmptyValue(page)) page = 1;
        //default range(row)
        if (!formUtil.checkEmptyValue(range)) range = 10;

        let url = "/cms/common/sysIcon/findPage";
        let param = {
            page_no: page,
            row_range: range,
            offset: (page - 1) * range
        };

        if (formUtil.checkEmptyValue($("#search_icon_class").val())) param._icon_class = $("#search_icon_class").val();

        axios.post(url, param).then(response => {
            let status = response.status;
            if (status === 200) {
                let data = response.data.DATA;
                let paging = response.data.TOTAL_PAGING[0];

                // 그리드 헤더 설정
                let sysIcon_menuGrid_header = {
                    title: '[Page.Message].Message.Label.Array["SYS_ICON.TITLE"]',
                    list: [
                        { HEADER: 'No', ID: 'no', WIDTH: '7', TYPE: 'text', FONT_SIZE: '12px', TEXT_ALIGN: 'center', HIDDEN: false },
                        { HEADER: '[Page.Message].Message.Label.Array["SYS_ICON.ICON_CODE"]', ID: 'icon_code', WIDTH: '40', TYPE: 'text', FONT_SIZE: '12px', TEXT_ALIGN: 'center', HIDDEN: false },
                        { HEADER: '[Page.Message].Message.Label.Array["SYS_ICON.ICON_VIEW"]', ID: 'icon_view', WIDTH: '40', TYPE: 'text', FONT_SIZE: '12px', TEXT_ALIGN: 'center', HIDDEN: false },
                        { HEADER: '[Page.Message].Message.Label.Array["SYS_ICON.ICON_NAME"]', ID: 'icon_name', WIDTH: '40', TYPE: 'text', FONT_SIZE: '12px', TEXT_ALIGN: 'center', HIDDEN: true },
                        { HEADER: '[Page.Message].Message.Label.Array["SYS_ICON.ICON_CLASS"]', ID: 'icon_class', WIDTH: '40', TYPE: 'text', FONT_SIZE: '12px', TEXT_ALIGN: 'center', HIDDEN: false },
                        { HEADER: '[Page.Message].Message.Label.Array["SELECT_BTN"]', ID: 'select_btn', WIDTH: '15', TYPE: 'button', FONT_SIZE: '12px', TEXT_ALIGN: 'center', HIDDEN: false },
                        { HEADER: '사이드 그리드', ID: 'sideGridOpen_btn', WIDTH: '15', TYPE: 'button', FONT_SIZE: '12px', TEXT_ALIGN: 'center', HIDDEN: true },
                        { HEADER: 'checkbox', ID: 'checkbox', WIDTH: '25', TYPE: 'checkbox', FONT_SIZE: '12px', TEXT_ALIGN: 'center', HIDDEN: true }
                    ]
                }
                let sysIcon_menu_grid = formUtil.giGrid(sysIcon_menuGrid_header, paging, page, "gi-icon-grid");
                data.map((item, i) => {
                    data[i]["icon_view"] = "<i class='fa-solid " + item.icon_class + "'></i>";
                })
                //그리드 데이터 설정
                sysIcon_menu_grid.DataSet(data);

                //그리드 row 개수 변경 및 페이징 버튼 이벤트 설정
                sysIcon_menu_grid.pagingSet(findBySysIconList);

                //그리드 내부의 상세 버튼 클릭 이벤트 설정(버튼클릭시 호출될 함수, 그리드 헤더 부분에 설정한 버튼 ID)
                sysIcon_menu_grid.detailBtnClick(selectMenuIconPopup, "select_btn");

                //그리스 내부의 header click 정렬 이벤트 설정
                sysIcon_menu_grid.sortDataSet(findBySysIconList);
                function selectMenuIconPopup(rows) {
                    $("#update_menu_icon").val(rows.icon_class);
                    popup.close("update_popup_icon_pack");
                    inputTageReset.commonTagSettings();
                }
            } else {
                formUtil.toast("response status is :" + status);
            }
        }).catch(error => {
            formUtil.toast(error.response.data);
        })
    }
</script>