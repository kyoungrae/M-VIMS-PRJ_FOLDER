server:
    port: 8084
    servlet:
        context-path: /web
        encoding:
            charset: UTF-8
            enabled: true
            force: true

spring:
    application:
        name: vims-web-app

    jackson:
        property-naming-strategy: LOWER_CAMEL_CASE
        date-format: yyyy-MM-dd HH:mm:ss
        time-zone: Asia/Seoul
    
    datasource:
        # MariaDB JDBC URL - Podman 컨테이너 환경
        url: jdbc:mariadb://host.containers.internal:3306/MVIMS?autoReconnect=true&tcpKeepAlive=true
        username: mvims
        password: 1234
        driver-class-name: org.mariadb.jdbc.Driver
        hikari:
            maximum-pool-size: 10
            minimum-idle: 5
            idle-timeout: 600000
            max-lifetime: 1800000
            connection-timeout: 30000
            keepalive-time: 30000
            connection-test-query: SELECT 1

    jpa:
        show-sql: false
        properties:
            hibernate:
                hbm2ddl:
                    auto: none
                format_sql: true
                use_sql_comments: false
        database: mysql
        database-platform: org.hibernate.dialect.MariaDB103Dialect
    
    devtools:
        livereload:
            enabled: false
        restart:
            enabled: false

    mvc:
        static-path-pattern: /static/**
    web:
        resources:
            static-locations: classpath:/static/

message:
    gateway:
        url: http://host.containers.internal:9000

fms:
    service:
        url: http://host.containers.internal:9083
    internal:
        api-key: "your-secure-internal-api-key-here"

db:
  partition:
    maintenance:
      enabled: false

mybatis:
    config-location: classpath:/mybatis-config.xml
    mapper-locations: classpath*:/mybatis*/**/*.xml

logging:
    level:
        root: INFO
        com: INFO
        com.zaxxer.hikari: ERROR
        org.apache.ibatis: WARN
        java.sql: WARN
        org.springframework.jdbc: WARN
        jdbc.sqlonly: OFF
        jdbc.sqltiming: OFF
        jdbc.audit: OFF
        jdbc.resultset: OFF
        jdbc.connection: OFF
